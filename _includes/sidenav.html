{% assign navPages = collections.all | eleventyNavigation %}

<aside
  id="section-nav"
  class="usa-layout-docs-sidenav desktop:grid-col-3 padding-y-4"
>
  <nav>
    <div class="text-uppercase text-bold margin-left-2 margin-y-2 text-ls-2">In this section:</div>
    <ul class="usa-sidenav">
      {% for entry in navPages %}
        {% if entry.children.length %}
          {% for child in entry.children %}
            {% if child.parent == eleventyNavigation.parent %}
              <li class="usa-sidenav__item">
                <a {% if child.url == page.url %}class="usa-current"{% endif %} href="{{ child.url }}">
                  {{- child.title -}}
                </a>
              </li>
            {% endif %}
          {% endfor %}
        {% endif %}
      {% endfor %}
    </ul>
  </nav>
</aside>
